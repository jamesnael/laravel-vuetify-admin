(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"Y+7t":function(e,t,a){"use strict";function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n;a.r(t);var o={props:{uri:{type:String,required:!0},headers:{type:Array,required:!0},noDataText:{type:String,default:"No data found."},noResultsText:{type:String,default:"No data found."},searchText:{type:String,default:"Search"},searchIcon:{type:String,default:"mdi-magnify"},refreshText:{type:String,default:"Reload"},refreshIcon:{type:String,default:"mdi-sync"},addNewText:{type:String,default:"Add New"},addNewIcon:{type:String,default:"mdi-plus"},addNewUri:{type:String,default:""},addNewColor:{type:String,default:"info"},itemsPerPageAllText:{type:String,default:"All"},itemsPerPageText:{type:String,default:"Rows per page:"},pageTextLocale:{type:String,default:"en"},detailUri:{type:String,default:""},detailUriParameter:{type:String,default:""},detailText:{type:String,default:"Detail"},detailIcon:{type:String,default:"mdi-eye"},detailColor:{type:String,default:"#000000"},editUri:{type:String,default:""},editUriParameter:{type:[String,Array],default:function(){return""}},editText:{type:String,default:"Edit"},editIcon:{type:String,default:"mdi-square-edit-outline"},editColor:{type:String,default:"#000000"},deleteUri:{type:String,default:""},deleteUriParameter:{type:[String,Array],default:function(){return""}},deleteText:{type:String,default:"Delete"},deleteIcon:{type:String,default:"mdi-trash-can-outline"},deleteColor:{type:String,default:"#677b80"},deleteConfirmationText:{type:String,default:"Are you sure want to delete this data ?"},deleteCancelText:{type:String,default:"Cancel"},approveUri:{type:String,default:""},approveUriParameter:{type:String,default:""},approveText:{type:String,default:"Delete"},approveIcon:{type:String,default:"mdi-check"},approveColor:{type:String,default:"#000000"},approveConfirmationText:{type:String,default:"Are you sure want to approve this data ?"},approveCancelText:{type:String,default:"Cancel"},tableNumber:{type:Boolean,default:function(){return!1}},withSelect:{type:Boolean,default:function(){return!1}},bulkUpdateText:{type:String,default:"Bulk Update"},bulkUpdateIcon:{type:String,default:"mdi-plus"},bulkUpdateUri:{type:String,default:""},bulkUpdateColor:{type:String,default:"green"},selectedDataFunction:{type:Function,default:function(e,t){t.append("data[]",JSON.stringify(e))}},selectedKeyName:{type:String,default:null},withActions:{type:Boolean,default:function(){return!1}}},data:function(){return{field_state:!1,prompt_delete:!1,prompt_approve:!1,search:"",page:1,pageCount:0,total_data:0,from_data:0,to_data:0,table_headers:[],table_items:[],loading:!0,options:{},data_table:[],selected:null,delete_loader:!1,approve_loader:!1,table_alert:!1,table_alert_text:"",table_alert_state:"info"}},watch:{options:{handler:function(){this.dataHandler()},deep:!0}},mounted:function(){this.dataHandler()},computed:{query:function(){return"?page="+this.options.page+"&search="+this.search+"&paginate="+this.options.itemsPerPage}},methods:{editParamsUri:function(e){if(_.isArray(this.editUriParameter)){var t=_.reduce(this.editUriParameter,(function(t,a){return i(i({},t),{},l({},a,e[a]))}),{});return this.ziggy(this.editUri,t).url()}return this.ziggy(this.editUri,[e[this.editUriParameter]]).url()},deleteParamsUri:function(e){if(_.isArray(this.deleteUriParameter)){var t=_.reduce(this.deleteUriParameter,(function(t,a){return i(i({},t),{},l({},a,e[a]))}),{});return this.ziggy(this.deleteUri,t).url()}return this.ziggy(this.deleteUri,[e[this.deleteUriParameter]]).url()},dataHandler:function(){if(this.tableNumber){this.table_headers=_.concat([{text:"No",align:"center",sortable:!1,value:"table_index"}],this.headers)}else this.table_headers=this.headers;if(this.withActions){this.table_headers=_.concat(this.table_headers,[{text:"Aksi",align:"center",sortable:!1,value:"actions"}])}setTimeout(this.getData(),2e3)},getData:function(){var e=this;this.loading=!0,n&&n.cancel(),n=axios.CancelToken.source(),axios.get(this.uri+this.query,{cancelToken:n.token}).then((function(t){e.setData(t.data.data),e.total_data=t.data.data.total,e.from_data=t.data.data.from,e.to_data=t.data.data.to,e.loading=!1})).catch((function(t){e.loading=!1}))},setData:function(e){var t=this,a=[],r=e.from;_.forEach(e.data,(function(e,t){e.table_index=r++,a.push(e)})),this.table_items=a,this.selectedKeyName&&(this.data_table=[],_.forEach(this.table_items,(function(e){e[t.selectedKeyName]&&t.data_table.push(e)})))},promptDeleteItem:function(e){this.prompt_delete=!0,this.selected=e},deleteItem:function(){var e=this;this.delete_loader=!0,axios.delete(this.deleteParamsUri(this.selected)).then((function(t){t.data.success?(e.table_alert=!0,e.table_alert_state="success",e.table_alert_text=t.data.message,e.dataHandler()):(e.table_alert=!0,e.table_alert_state="error",e.table_alert_text=t.data.message),e.delete_loader=!1,e.prompt_delete=!1})).catch((function(t){e.table_alert=!0,e.table_alert_state="error",e.table_alert_text="Oops, something went wrong. Please try again later.",e.delete_loader=!1,e.prompt_delete=!1}))},promptApproveItem:function(e){this.prompt_approve=!0,this.selected=e},approveItem:function(){var e=this;this.approve_loader=!0,axios.get(this.ziggy(this.approveUri,[this.selected[this.approveUriParameter]]).url()).then((function(t){t.data.success?(e.table_alert=!0,e.table_alert_state="success",e.table_alert_text=t.data.message,e.dataHandler(),setTimeout(location.reload(),2e3)):(e.table_alert=!0,e.table_alert_state="error",e.table_alert_text=t.data.message),e.approve_loader=!1,e.prompt_approve=!1})).catch((function(t){e.table_alert=!0,e.table_alert_state="error",e.table_alert_text="Oops, something went wrong. Please try again later.",e.approve_loader=!1,e.prompt_approve=!1}))},submitBulkUpdate:function(){var e=this,t=new FormData;_.forEach(this.data_table,(function(a){e.selectedDataFunction(a,t)})),this.field_state=!0,axios.post(this.bulkUpdateUri,t).then((function(t){t.data.success?(e.field_state=!1,e.table_alert=!0,e.table_alert_state="success",e.table_alert_text=t.data.message,e.dataHandler(),setTimeout(location.reload(),2e3)):(e.field_state=!1,e.table_alert=!0,e.table_alert_state="error",e.table_alert_text=t.data.message)})).catch((function(t){e.field_state=!1,e.table_alert=!0,e.table_alert_state="error",e.table_alert_text="Oops, something went wrong. Please try again later."}))}}},d=a("KHd+"),s=Object(d.a)(o,void 0,void 0,!1,null,null,null);t.default=s.exports}}]);