(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"Y+7t":function(e,t,a){"use strict";var r;a.r(t);var i={props:{uri:{type:String,required:!0},headers:{type:Array,required:!0},noDataText:{type:String,default:"No data found."},noResultsText:{type:String,default:"No data found."},searchText:{type:String,default:"Search"},searchIcon:{type:String,default:"mdi-magnify"},refreshText:{type:String,default:"Reload"},refreshIcon:{type:String,default:"mdi-sync"},addNewText:{type:String,default:"Add New"},addNewIcon:{type:String,default:"mdi-plus"},addNewUri:{type:String,default:""},addNewColor:{type:String,default:"info"},itemsPerPageAllText:{type:String,default:"All"},itemsPerPageText:{type:String,default:"Rows per page:"},pageTextLocale:{type:String,default:"en"},detailUri:{type:String,default:""},detailUriParameter:{type:String,default:""},detailText:{type:String,default:"Detail"},detailIcon:{type:String,default:"mdi-eye"},detailColor:{type:String,default:"primary"},editUri:{type:String,default:""},editUriParameter:{type:String,default:""},editText:{type:String,default:"Edit"},editIcon:{type:String,default:"mdi-pencil"},editColor:{type:String,default:"primary"},deleteUri:{type:String,default:""},deleteUriParameter:{type:String,default:""},deleteText:{type:String,default:"Delete"},deleteIcon:{type:String,default:"mdi-trash-can-outline"},deleteColor:{type:String,default:"red lighten-1"},deleteConfirmationText:{type:String,default:"Are you sure want to delete this data ?"},deleteCancelText:{type:String,default:"Cancel"},tableNumber:{type:Boolean,default:function(){return!1}},withActions:{type:Boolean,default:function(){return!1}}},data:function(){return{prompt_delete:!1,search:"",total_data:0,from_data:0,to_data:0,table_headers:[],table_items:[],loading:!0,options:{},selected:null,delete_loader:!1,table_alert:!1,table_alert_text:"",table_alert_state:"info"}},watch:{options:{handler:function(){this.dataHandler()},deep:!0}},mounted:function(){this.dataHandler()},computed:{query:function(){return"?page="+this.options.page+"&search="+this.search+"&paginate="+this.options.itemsPerPage}},methods:{dataHandler:function(){if(this.tableNumber){this.table_headers=_.concat([{text:"#",align:"center",sortable:!1,value:"table_index"}],this.headers)}else this.table_headers=this.headers;if(this.withActions){this.table_headers=_.concat(this.table_headers,[{text:"Aksi",align:"center",sortable:!1,value:"actions"}])}setTimeout(this.getData(),2e3)},getData:function(){var e=this;this.loading=!0,r&&r.cancel(),r=axios.CancelToken.source(),axios.get(this.uri+this.query,{cancelToken:r.token}).then((function(t){e.setData(t.data.data.data),e.total_data=t.data.data.total,e.from_data=t.data.data.from,e.to_data=t.data.data.to,e.loading=!1})).catch((function(t){e.loading=!1}))},setData:function(e){var t=[];_.forEach(e,(function(e,a){e.table_index=parseInt(a)+1,t.push(e)})),this.table_items=t},promptDeleteItem:function(e){this.prompt_delete=!0,this.selected=e},deleteItem:function(){var e=this;this.delete_loader=!0,axios.delete(this.ziggy(this.deleteUri,[this.selected[this.deleteUriParameter]]).url()).then((function(t){t.data.success?(e.table_alert=!0,e.table_alert_state="success",e.table_alert_text=t.data.message,e.dataHandler()):(e.table_alert=!0,e.table_alert_state="error",e.table_alert_text=t.data.message),e.delete_loader=!1,e.prompt_delete=!1})).catch((function(t){e.table_alert=!0,e.table_alert_state="error",e.table_alert_text="Oops, something went wrong. Please try again later.",e.delete_loader=!1,e.prompt_delete=!1}))}}},l=a("KHd+"),d=Object(l.a)(i,void 0,void 0,!1,null,null,null);t.default=d.exports}}]);