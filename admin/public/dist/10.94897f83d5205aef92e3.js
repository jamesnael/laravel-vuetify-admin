(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"Y+7t":function(t,e,a){"use strict";var l;a.r(e);var i={props:{uri:{type:String,required:!0},headers:{type:Array,required:!0},noDataText:{type:String,default:"No data found."},noResultsText:{type:String,default:"No data found."},searchText:{type:String,default:"Search"},searchIcon:{type:String,default:"mdi-magnify"},refreshText:{type:String,default:"Reload"},refreshIcon:{type:String,default:"mdi-sync"},addNewText:{type:String,default:"Add New"},addNewIcon:{type:String,default:"mdi-plus"},addNewUri:{type:String,default:""},addNewColor:{type:String,default:"info"},itemsPerPageAllText:{type:String,default:"All"},itemsPerPageText:{type:String,default:"Rows per page:"},pageTextLocale:{type:String,default:"en"},detailUri:{type:String,default:""},detailUriParameter:{type:String,default:""},detailText:{type:String,default:"Detail"},detailIcon:{type:String,default:"mdi-eye"},detailColor:{type:String,default:"#000000"},editUri:{type:String,default:""},editUriParameter:{type:String,default:""},editText:{type:String,default:"Edit"},editIcon:{type:String,default:"mdi-square-edit-outline"},editColor:{type:String,default:"#000000"},deleteUri:{type:String,default:""},deleteUriParameter:{type:String,default:""},deleteText:{type:String,default:"Delete"},deleteIcon:{type:String,default:"mdi-trash-can-outline"},deleteColor:{type:String,default:"#677b80"},deleteConfirmationText:{type:String,default:"Are you sure want to delete this data ?"},deleteCancelText:{type:String,default:"Cancel"},tableNumber:{type:Boolean,default:function(){return!1}},withSelect:{type:Boolean,default:function(){return!1}},bulkUpdateText:{type:String,default:"Bulk Update"},bulkUpdateIcon:{type:String,default:"mdi-plus"},bulkUpdateUri:{type:String,default:""},bulkUpdateColor:{type:String,default:"green"},selectedDataFunction:{type:Function,default:function(t,e){e.append("data[]",JSON.stringify(t))}},selectedKeyName:{type:String,default:null},withActions:{type:Boolean,default:function(){return!1}}},data:function(){return{field_state:!1,prompt_delete:!1,search:"",page:1,pageCount:0,total_data:0,from_data:0,to_data:0,table_headers:[],table_items:[],loading:!0,options:{},data_table:[],selected:null,delete_loader:!1,table_alert:!1,table_alert_text:"",table_alert_state:"info"}},watch:{options:{handler:function(){this.dataHandler()},deep:!0}},mounted:function(){this.dataHandler()},computed:{query:function(){return"?page="+this.options.page+"&search="+this.search+"&paginate="+this.options.itemsPerPage}},methods:{dataHandler:function(){if(this.tableNumber){this.table_headers=_.concat([{text:"No",align:"center",sortable:!1,value:"table_index"}],this.headers)}else this.table_headers=this.headers;if(this.withActions){this.table_headers=_.concat(this.table_headers,[{text:"Aksi",align:"center",sortable:!1,value:"actions"}])}setTimeout(this.getData(),2e3)},getData:function(){var t=this;this.loading=!0,l&&l.cancel(),l=axios.CancelToken.source(),axios.get(this.uri+this.query,{cancelToken:l.token}).then((function(e){t.setData(e.data.data),t.total_data=e.data.data.total,t.from_data=e.data.data.from,t.to_data=e.data.data.to,t.loading=!1})).catch((function(e){t.loading=!1}))},setData:function(t){var e=this,a=[],l=t.from;_.forEach(t.data,(function(t,e){t.table_index=l++,a.push(t)})),this.table_items=a,this.selectedKeyName&&(this.data_table=[],_.forEach(this.table_items,(function(t){t[e.selectedKeyName]&&e.data_table.push(t)})))},promptDeleteItem:function(t){this.prompt_delete=!0,this.selected=t},deleteItem:function(){var t=this;this.delete_loader=!0,axios.delete(this.ziggy(this.deleteUri,[this.selected[this.deleteUriParameter]]).url()).then((function(e){e.data.success?(t.table_alert=!0,t.table_alert_state="success",t.table_alert_text=e.data.message,t.dataHandler()):(t.table_alert=!0,t.table_alert_state="error",t.table_alert_text=e.data.message),t.delete_loader=!1,t.prompt_delete=!1})).catch((function(e){t.table_alert=!0,t.table_alert_state="error",t.table_alert_text="Oops, something went wrong. Please try again later.",t.delete_loader=!1,t.prompt_delete=!1}))},submitBulkUpdate:function(){var t=this,e=new FormData;_.forEach(this.data_table,(function(a){t.selectedDataFunction(a,e)})),this.field_state=!0,axios.post(this.bulkUpdateUri,e).then((function(e){e.data.success?(t.field_state=!1,t.table_alert=!0,t.table_alert_state="success",t.table_alert_text=e.data.message,t.dataHandler(),setTimeout(location.reload(),2e3)):(t.field_state=!1,t.table_alert=!0,t.table_alert_state="error",t.table_alert_text=e.data.message)})).catch((function(e){t.field_state=!1,t.table_alert=!0,t.table_alert_state="error",t.table_alert_text="Oops, something went wrong. Please try again later."}))}}},r=a("KHd+"),d=Object(r.a)(i,void 0,void 0,!1,null,null,null);e.default=d.exports}}]);