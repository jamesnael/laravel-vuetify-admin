(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"Y+7t":function(t,e,a){"use strict";a.r(e);var r,i=a("o0o1"),n=a.n(i),l=a("PSD3"),o=a.n(l);function s(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return l=t.done,t},e:function(t){o=!0,n=t},f:function(){try{l||null==a.return||a.return()}finally{if(o)throw n}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function u(t,e,a,r,i,n,l){try{var o=t[n](l),s=o.value}catch(t){return void a(t)}o.done?e(s):Promise.resolve(s).then(r,i)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(r,i){var n=t.apply(e,a);function l(t){u(n,r,i,l,o,"next",t)}function o(t){u(n,r,i,l,o,"throw",t)}l(void 0)}))}}function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){h(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var g=a("wd/R"),m={props:{uri:{type:String,required:!0},headers:{type:Array,required:!0},noDataText:{type:String,default:"No data found."},noResultsText:{type:String,default:"No data found."},searchText:{type:String,default:"Search"},searchIcon:{type:String,default:"mdi-magnify"},refreshText:{type:String,default:"Reload"},refreshIcon:{type:String,default:"mdi-sync"},addNewText:{type:String,default:"Add New"},addNewIcon:{type:String,default:"mdi-plus"},addNewUri:{type:String,default:""},addNewColor:{type:String,default:"info"},itemsPerPageAllText:{type:String,default:"All"},itemsPerPageText:{type:String,default:"Rows per page:"},pageTextLocale:{type:String,default:"en"},detailUri:{type:String,default:""},detailUriParameter:{type:[String,Array],default:function(){return""}},detailText:{type:String,default:"Detail"},detailIcon:{type:String,default:"mdi-eye"},detailColor:{type:String,default:"#000000"},viewUri:{type:String,default:""},viewUriParameter:{type:[String,Array],default:function(){return""}},viewText:{type:String,default:"Detail"},viewIcon:{type:String,default:"mdi-eye"},viewColor:{type:String,default:"#000000"},editUri:{type:String,default:""},editUriParameter:{type:[String,Array],default:function(){return""}},editText:{type:String,default:"Edit"},editIcon:{type:String,default:"mdi-square-edit-outline"},editColor:{type:String,default:"#000000"},printUri:{type:String,default:""},printUriParameter:{type:[String,Array],default:function(){return""}},printText:{type:String,default:"Edit"},printIcon:{type:String,default:"mdi-square-edit-outline"},printColor:{type:String,default:"#000000"},deleteUri:{type:String,default:""},deleteUriParameter:{type:[String,Array],default:function(){return""}},deleteText:{type:String,default:"Delete"},deleteIcon:{type:String,default:"mdi-trash-can-outline"},deleteColor:{type:String,default:"#677b80"},deleteConfirmationText:{type:String,default:"Are you sure want to delete this data ?"},deleteCancelText:{type:String,default:"Cancel"},approveUri:{type:String,default:""},approveUriParameter:{type:String,default:""},approveText:{type:String,default:"Delete"},approveIcon:{type:String,default:"mdi-check"},approveColor:{type:String,default:"#000000"},approveConfirmationText:{type:String,default:"Are you sure want to approve this data ?"},approveCancelText:{type:String,default:"Cancel"},approveCondition:{type:Function,default:function(t){return!0}},tableNumber:{type:Boolean,default:function(){return!1}},withSelect:{type:Boolean,default:function(){return!1}},bulkUpdateText:{type:String,default:"Bulk Update"},bulkUpdateIcon:{type:String,default:""},bulkUpdateUri:{type:String,default:""},bulkConfirmationText:{type:String,default:"Are you sure want to approve this data?"},bulkCancelText:{type:String,default:"Cancel"},bulkUpdateColor:{type:String,default:"green"},bulkUpdateTextSecond:{type:String,default:"Bulk Update Second"},bulkUpdateIconSecond:{type:String,default:""},bulkUpdateUriSecond:{type:String,default:""},bulkUpdateColorSecond:{type:String,default:"green"},bulkUpdateDisabled:{type:Boolean,default:function(t){return!1}},selectedDataFunction:{type:Function,default:function(t,e){e.append("data[]",JSON.stringify(t))}},selectedKeyName:{type:String,default:null},withActions:{type:Boolean,default:function(){return!1}}},data:function(){return{field_state:!1,field_state_second:!1,prompt_delete:!1,prompt_approve:!1,prompt_bulk_update:!1,search:"",page:1,pageCount:0,total_data:0,from_data:0,to_data:0,table_headers:[],table_items:[],loading:!0,options:{},data_table:[],selected:null,delete_loader:!1,approve_loader:!1,table_alert:!1,table_alert_text:"",table_alert_state:"info"}},watch:{options:{handler:function(){this.dataHandler()},deep:!0}},mounted:function(){this.dataHandler()},computed:{query:function(){return"?page="+this.options.page+"&search="+this.search+"&paginate="+this.options.itemsPerPage}},methods:{editParamsUri:function(t){if(_.isArray(this.editUriParameter)){var e=_.reduce(this.editUriParameter,(function(e,a){return f(f({},e),{},h({},a,t[a]))}),{});return this.ziggy(this.editUri,e).url()}return this.ziggy(this.editUri,[t[this.editUriParameter]]).url()},printParamsUri:function(t){if(_.isArray(this.printUriParameter)){var e=_.reduce(this.printUriParameter,(function(e,a){return f(f({},e),{},h({},a,t[a]))}),{});return this.ziggy(this.printUri,e).url()}return this.ziggy(this.printUri,[t[this.printUriParameter]]).url()},detailParamsUri:function(t){if(_.isArray(this.detailUriParameter)){var e=_.reduce(this.detailUriParameter,(function(e,a){return f(f({},e),{},h({},a,t[a]))}),{});return this.ziggy(this.detailUri,e).url()}return this.ziggy(this.detailUri,[t[this.detailUriParameter]]).url()},viewParamsUri:function(t){if(_.isArray(this.viewUriParameter)){var e=_.reduce(this.viewUriParameter,(function(e,a){return f(f({},e),{},h({},a,t[a]))}),{});return this.ziggy(this.viewUri,e).url()}return this.ziggy(this.viewUri,[t[this.viewUriParameter]]).url()},deleteParamsUri:function(t){if(_.isArray(this.deleteUriParameter)){var e=_.reduce(this.deleteUriParameter,(function(e,a){return f(f({},e),{},h({},a,t[a]))}),{});return this.ziggy(this.deleteUri,e).url()}return this.ziggy(this.deleteUri,[t[this.deleteUriParameter]]).url()},searchDatatable:function(){this.options.page=1,setTimeout(this.dataHandler(),2e3)},dataHandler:function(){if(this.tableNumber){this.table_headers=_.concat([{text:"No",align:"center",sortable:!1,value:"table_index"}],this.headers)}else this.table_headers=this.headers;if(this.withActions){this.table_headers=_.concat(this.table_headers,[{text:"Aksi",align:"center",sortable:!1,value:"actions"}])}setTimeout(this.getData(),2e3)},getData:function(){var t=this;this.loading=!0,r&&r.cancel(),r=axios.CancelToken.source(),axios.get(this.uri+this.query,{cancelToken:r.token}).then((function(e){t.setData(e.data.data),t.total_data=e.data.data.total,t.from_data=e.data.data.from,t.to_data=e.data.data.to,t.loading=!1})).catch((function(e){t.loading=!1}))},setData:function(t){var e=this,a=[],r=t.from;_.forEach(t.data,(function(t,e){t.table_index=r++,a.push(t)})),this.table_items=a,this.selectedKeyName&&_.forEach(this.table_items,(function(t){t[e.selectedKeyName]&&e.data_table.push(t)}))},promptBulkItem:function(){this.prompt_bulk_update=!0},promptDeleteItem:function(t){this.prompt_delete=!0,this.selected=t},deleteItem:function(){var t=this;this.delete_loader=!0,axios.delete(this.deleteParamsUri(this.selected)).then((function(e){e.data.success?(t.table_alert=!0,t.table_alert_state="success",t.table_alert_text=e.data.message,t.dataHandler(),setTimeout(location.reload(),2e3)):(t.table_alert=!0,t.table_alert_state="error",t.table_alert_text=e.data.message),t.delete_loader=!1,t.prompt_delete=!1})).catch((function(e){t.table_alert=!0,t.table_alert_state="error",t.table_alert_text="Oops, something went wrong. Please try again later.",t.delete_loader=!1,t.prompt_delete=!1}))},promptApproveItem:function(t){this.prompt_approve=!0,this.selected=t},approveItem:function(){var t=this;this.approve_loader=!0,axios.get(this.ziggy(this.approveUri,[this.selected[this.approveUriParameter]]).url()).then((function(e){e.data.success?(t.table_alert=!0,t.table_alert_state="success",t.table_alert_text=e.data.message,t.dataHandler(),setTimeout(location.reload(),2e3)):(t.table_alert=!0,t.table_alert_state="error",t.table_alert_text=e.data.message),t.approve_loader=!1,t.prompt_approve=!1})).catch((function(e){t.table_alert=!0,t.table_alert_state="error",t.table_alert_text="Oops, something went wrong. Please try again later.",t.approve_loader=!1,t.prompt_approve=!1}))},submitBulkUpdate:function(){var t=this,e=new FormData;_.forEach(this.data_table,(function(a){t.selectedDataFunction(a,e)})),this.field_state=!0,axios.post(this.bulkUpdateUri,e).then((function(e){e.data.success?(t.field_state=!1,t.table_alert=!0,t.table_alert_state="success",t.table_alert_text=e.data.message,t.dataHandler(),setTimeout(location.reload(),2e3)):(t.field_state=!1,t.table_alert=!0,t.table_alert_state="error",t.table_alert_text=e.data.message)})).catch((function(e){t.field_state=!1,t.table_alert=!0,t.table_alert_state="error",t.table_alert_text="Oops, something went wrong. Please try again later."}))},submitBulkUpdateTimesheetsDetail:function(){var t=this;return c(n.a.mark((function e(){var a,r,i,l,o,d,u,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new FormData,r=s(t.data_table),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=27;break}l=i.value,o=l.nama_lengkap,d=s(l.data_source_Normal),e.prev=8,d.s();case 10:if((u=d.n()).done){e.next=16;break}return c=u.value,e.next=14,t.checkJamIstirahat(c,o);case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),d.e(e.t0);case 21:return e.prev=21,d.f(),e.finish(21);case 24:t.selectedDataFunction(l,a);case 25:e.next=4;break;case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(2),r.e(e.t1);case 32:return e.prev=32,r.f(),e.finish(32);case 35:t.field_state=!0,axios.post(t.bulkUpdateUri,a).then((function(e){e.data.success?(t.field_state=!1,t.table_alert=!0,t.table_alert_state="success",t.table_alert_text=e.data.message,t.dataHandler(),setTimeout(location.reload(),2e3)):(t.field_state=!1,t.table_alert=!0,t.table_alert_state="error",t.table_alert_text=e.data.message)})).catch((function(e){t.field_state=!1,t.table_alert=!0,t.table_alert_state="error",t.table_alert_text="Oops, something went wrong. Please try again later."}));case 37:case"end":return e.stop()}}),e,null,[[2,29,32,35],[8,18,21,24]])})))()},checkJamIstirahat:function(t,e){return c(n.a.mark((function a(){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!g(t.start_kerja,"HH:mm").isSameOrBefore(g("12:00","HH:mm"))||!g(t.end_kerja,"HH:mm").isSameOrAfter(g("13:00","HH:mm"))||"Standby"==t.aktivitas){a.next=5;break}return a.next=3,o.a.fire({allowOutsideClick:!1,title:"Jam kerja melewati jam Istirahat?",text:"Apakah jam kerja "+e+" tanggal "+t.group_date+" "+t.start_kerja+" - "+t.end_kerja+" termasuk Istirahat?",icon:"warning",showCancelButton:!1,showDenyButton:!0,confirmButtonColor:"#3085d6",denyButtonColor:"#d33",confirmButtonText:"Dengan Istirahat",denyButtonText:"Tanpa Istirahat"}).then((function(e){e.isConfirmed?t.is_istirahat=1:e.isDenied&&(t.istirahat=0)}));case 3:a.next=6;break;case 5:console.log("tidak terdeteksi ada is_istirahat");case 6:case"end":return a.stop()}}),a)})))()},submitBulkUpdateSecond:function(){var t=this,e=new FormData;_.forEach(this.data_table,(function(a){t.selectedDataFunction(a,e)})),this.field_state_second=!0,axios.post(this.bulkUpdateUriSecond,e).then((function(e){e.data.success?(t.field_state_second=!1,t.table_alert=!0,t.table_alert_state="success",t.table_alert_text=e.data.message,t.dataHandler(),setTimeout(location.reload(),2e3)):(t.field_state_second=!1,t.table_alert=!0,t.table_alert_state="error",t.table_alert_text=e.data.message)})).catch((function(e){t.field_state_second=!1,t.table_alert=!0,t.table_alert_state="error",t.table_alert_text="Oops, something went wrong. Please try again later."}))}}},y=a("KHd+"),b=Object(y.a)(m,void 0,void 0,!1,null,null,null);e.default=b.exports}}]);