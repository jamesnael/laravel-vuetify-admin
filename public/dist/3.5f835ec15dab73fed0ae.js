(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"C1/e":function(a,t,e){(a.exports=e("I1BE")(!1)).push([a.i,".v-date-picker-title__year{font-size:28px}",""])},LA2C:function(a,t,e){"use strict";var i=e("u385");e.n(i).a},MJdX:function(a,t,e){(a.exports=e("I1BE")(!1)).push([a.i,"#view-map{min-height:400px;height:100%}",""])},OVqt:function(a,t,e){"use strict";e.r(t);var i=e("o0o1"),r=e.n(i),s=e("PSD3"),l=e.n(s),n=e("e7F3"),u=e("TJPC"),o=e("enAU"),d=e("wd/R");Object(n.c)("required",u.h),Object(n.c)("email",u.b),Object(n.c)("numeric",u.f),Object(n.c)("min",u.e),Object(n.c)("max",u.d),Object(n.c)("regex",u.g),Object(n.c)("confirmed",u.a),Object(n.c)("customDateTime",(function(a){return!!d(a,"DD-MMMM-YYYY HH:mm",!0).isValid()||"Masukan tanggal dan waktu"})),Object(n.d)("id",o);var c={name:"FormContent",components:{ValidationProvider:n.b},props:{dataUri:String,filterOperator:Array,filterAktivitas:Array,tanggalMulaiProyek:String,tanggalSelesaiProyek:String,waktuMulaiProyek:String,waktuSelesaiProyek:String,fieldState:Boolean,operator_proyek_id:Number,aktivitas:String,keterangan_aktivitas:String,tanggal_mulai:String,waktu_mulai:String,tanggal_selesai:String,waktu_selesai:String,durasi_jam:String,round_kerja:Number,round_lembur:Number,unit:Object,user_karyawan:Object,status:String},data:function(){return{refreshKeterangan:1,data_tanggal_mulai:"",data_waktu_mulai:"",data_tanggal_selesai:"",data_waktu_selesai:"",display_waktu_mulai:!1,display_tanggal_selesai:!1,display_waktu_selesai:!1}},computed:{availableKerja:function(){var a=this;if(0==this.refreshKeterangan?this.$emit("update:keterangan_aktivitas",""):this.refreshKeterangan=0,this.operator_proyek_id&&this.aktivitas){var t=_.find(this.filterOperator,(function(t){return t.value==a.operator_proyek_id}));return"Standby"==this.aktivitas?t.keterangan_aktivitas_standby:t.keterangan_aktivitas_lembur_normal}return[]},availableAktivitas:function(){var a=this;if(this.operator_proyek_id)return _.find(this.filterOperator,(function(t){return t.value==a.operator_proyek_id})).aktivitas},computedWaktuMulai:function(){return(this.data_tanggal_mulai?d(this.data_tanggal_mulai,"YYYY-MM-DD").format("DD-MMMM-YYYY"):"")+" "+(this.data_waktu_mulai?d(this.data_waktu_mulai,"HH:mm").format("HH:mm"):"")},computedWaktuSelesai:function(){return(this.data_tanggal_selesai?d(this.data_tanggal_selesai,"YYYY-MM-DD").format("DD-MMMM-YYYY"):"")+" "+(this.data_waktu_selesai?d(this.data_waktu_selesai,"HH:mm").format("HH:mm"):"")},allowedEndDate:function(){var a=this.waktuMulaiProyek,t=this.waktuSelesaiProyek,e=d(this.data_tanggal_mulai);return"Lembur"===this.aktivitas?a<=t?e.add(1,"days").format("YYYY-MM-DD").toString():this.data_tanggal_mulai:a<=t?this.data_tanggal_mulai:this.data_tanggal_mulai+1},allowedStartTime:function(){var a=[],t=d(this.waktuMulaiProyek,"HH:mm:ss").hour(),e=d(this.waktuSelesaiProyek,"HH:mm:ss").hour();if("Lembur"===this.aktivitas)if(e<=t)for(var i=e;i<=t;i++)a.push(i);else{for(i=e;i<=23;i++)a.push(i);for(i=0;i<=t;i++)a.push(i)}else if(e>=t)for(i=t;i<=e;i++)a.push(i);else{for(i=t;i<=23;i++)a.push(i);for(i=0;i<=e;i++)a.push(i)}return a},allowedEndTime:function(){var a=[],t=d(this.waktuMulaiProyek,"HH:mm:ss").hour(),e=d(this.waktuSelesaiProyek,"HH:mm:ss").hour(),i=this.data_waktu_mulai?d(this.data_waktu_mulai,"HH:mm").hour():0;if("Lembur"===this.aktivitas)if(e<=t)for(var r=i;r<=t;r++)a.push(r);else if(i<=t)for(r=i;r<=t;r++)a.push(r);else{for(r=i;r<=23;r++)a.push(r);for(r=0;r<=t;r++)a.push(r)}else if(e>=t)for(r=i;r<=e;r++)a.push(r);else if(i<=e)for(r=i;r<=e;r++)a.push(r);else{for(r=i;r<=23;r++)a.push(r);for(r=0;r<=e;r++)a.push(r)}return a},checkWirtgen:function(){var a=this;return this.operator_proyek_id?_.find(this.filterOperator,(function(t){return t.value==a.operator_proyek_id})).is_wirtgen:""}},mounted:function(){this.data_tanggal_mulai=this.tanggal_mulai,this.data_tanggal_selesai=this.tanggal_selesai,this.data_waktu_mulai=this.waktu_mulai,this.data_waktu_selesai=this.waktu_selesai,this.timeDiffWaktuKerja()},methods:{timeDiffWaktuKerja:function(){var a=this.data_tanggal_mulai&&this.data_tanggal_selesai&&this.data_waktu_mulai&&this.data_waktu_selesai?this.sumTimeDiff(this.data_tanggal_mulai,this.data_waktu_mulai,this.data_tanggal_selesai,this.data_waktu_selesai).toString():"0";this.$emit("update:tanggal_mulai",this.data_tanggal_mulai),this.$emit("update:waktu_mulai",this.data_waktu_mulai),this.$emit("update:tanggal_selesai",this.data_tanggal_selesai),this.$emit("update:waktu_selesai",this.data_waktu_selesai),this.$emit("update:durasi_jam",a)},sumTimeDiff:function(a,t,e,i){var r=d(a+" "+t,"YYYY-MM-DD HH:mm"),s=d(e+" "+i,"YYYY-MM-DD HH:mm").diff(r,"minutes"),l=Math.floor(s/60);return"Lembur"==this.aktivitas?s%60>=this.round_lembur&&(l+=1):s%60>=this.round_kerja&&(l+=1),l},resetWaktu:function(){this.data_tanggal_mulai="",this.data_waktu_mulai="",this.data_tanggal_selesai="",this.data_waktu_selesai="";var a=this.data_tanggal_mulai&&this.data_tanggal_selesai&&this.data_waktu_mulai&&this.data_waktu_selesai?this.sumTimeDiff(this.data_tanggal_mulai,this.data_waktu_mulai,this.data_tanggal_selesai,this.data_waktu_selesai).toString():"0";this.$emit("update:durasi_jam",a)}}},m=(e("LA2C"),e("KHd+")),f=Object(m.a)(c,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Nama Operator / Driver")]),a._v(" "),e("ValidationProvider",{attrs:{rules:"required",name:"Nama Operator / Driver"},scopedSlots:a._u([{key:"default",fn:function(t){var i=t.errors;return[0==a.dataUri.length?e("v-autocomplete",{staticClass:"mt-1",attrs:{value:a.operator_proyek_id,"error-messages":i,disabled:a.dataUri.length>0||a.fieldState,outlined:"",items:a.filterOperator},on:{input:function(t){return a.$emit("update:operator_proyek_id",t)}}}):e("v-text-field",{staticClass:"mt-1",attrs:{value:a.user_karyawan.nama_lengkap+" - "+a.unit.no_polisi_unit+"-"+a.unit.no_lambung_unit,disabled:a.dataUri.length>0||a.fieldState,outlined:""}})]}}])})],1),a._v(" "),e("v-col",{attrs:{cols:"6"}},[0==a.checkWirtgen?e("div",[e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Tipe Kerja")]),a._v(" "),e("ValidationProvider",{attrs:{rules:"required",name:"Tipe Kerja"},scopedSlots:a._u([{key:"default",fn:function(t){var i=t.errors;return[e("v-autocomplete",{staticClass:"mt-1",attrs:{value:a.aktivitas,"clear-icon":"mdi-eraser-variant","error-messages":i,outlined:"",items:a.availableAktivitas,disabled:a.dataUri.length>0||a.fieldState},on:{input:function(t){return a.$emit("update:aktivitas",t)},change:function(t){return a.resetWaktu()}}})]}}],null,!1,1602440287)})],1):a._e(),a._v(" "),0!=a.checkWirtgen?e("div",[e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Tipe Kerja")]),a._v(" "),e("ValidationProvider",{attrs:{rules:"required",name:"Tipe Kerja"},scopedSlots:a._u([{key:"default",fn:function(t){var i=t.errors;return[e("v-autocomplete",{staticClass:"mt-1",attrs:{value:a.aktivitas,"clear-icon":"mdi-eraser-variant","error-messages":i,disabled:a.dataUri.length>0||a.fieldState,outlined:"",items:["Normal","Standby"]},on:{input:function(t){return a.$emit("update:aktivitas",t)},change:function(t){return a.resetWaktu()}}})]}}],null,!1,2193659494)})],1):a._e()])],1),a._v(" "),e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Keterangan Kerja")]),a._v(" "),e("ValidationProvider",{attrs:{rules:"required",name:"Keterangan Kerja"},scopedSlots:a._u([{key:"default",fn:function(t){var i=t.errors;return[e("v-autocomplete",{staticClass:"mt-1",attrs:{value:a.keterangan_aktivitas,"clear-icon":"mdi-eraser-variant","error-messages":i,disabled:a.dataUri.length>0||a.fieldState,outlined:"",items:a.availableKerja},on:{input:function(t){return a.$emit("update:keterangan_aktivitas",t)}}})]}}])})],1),a._v(" "),e("v-col",{attrs:{cols:"2"}},[0==a.checkWirtgen?e("div",[e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Mulai")]),a._v(" "),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px",disabled:a.dataUri.length>0||a.fieldState},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[e("ValidationProvider",{attrs:{name:"Waktu Mulai",rules:"required|customDateTime"},scopedSlots:a._u([{key:"default",fn:function(t){var s=t.errors;return[e("v-text-field",a._g(a._b({staticClass:"mt-1",attrs:{"persistent-hint":!0,"error-messages":s,readonly:"",outlined:"",placeholder:"Pilih Waktu",disabled:a.dataUri.length>0||a.fieldState},model:{value:a.computedWaktuMulai,callback:function(t){a.computedWaktuMulai=t},expression:"computedWaktuMulai"}},"v-text-field",r,!1),i))]}}],null,!0)})]}}],null,!1,2894433309),model:{value:a.display_waktu_mulai,callback:function(t){a.display_waktu_mulai=t},expression:"display_waktu_mulai"}},[a._v(" "),e("v-date-picker",{attrs:{min:a.tanggalMulaiProyek,max:a.tanggalSelesaiProyek,scrollable:""},on:{input:function(t){return a.timeDiffWaktuKerja()}},model:{value:a.data_tanggal_mulai,callback:function(t){a.data_tanggal_mulai=t},expression:"data_tanggal_mulai"}}),a._v(" "),e("v-time-picker",{attrs:{scrollable:"",format:"24hr","allowed-hours":a.allowedStartTime},on:{input:function(t){return a.timeDiffWaktuKerja()}},model:{value:a.data_waktu_mulai,callback:function(t){a.data_waktu_mulai=t},expression:"data_waktu_mulai"}},[e("v-spacer"),a._v(" "),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){a.display_waktu_mulai=!1}}},[a._v("\n          Cancel\n        ")]),a._v(" "),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){a.display_waktu_mulai=!1}}},[a._v("\n          OK\n        ")])],1)],1)],1):a._e(),a._v(" "),0!=a.checkWirtgen?e("div",[e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Mulai")]),a._v(" "),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px",disabled:a.dataUri.length>0||a.fieldState},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[e("ValidationProvider",{attrs:{name:"Waktu Mulai",rules:"required|customDateTime"},scopedSlots:a._u([{key:"default",fn:function(t){var s=t.errors;return[e("v-text-field",a._g(a._b({staticClass:"mt-1",attrs:{"persistent-hint":!0,"error-messages":s,readonly:"",outlined:"",placeholder:"Pilih Waktu",disabled:a.dataUri.length>0||a.fieldState},model:{value:a.computedWaktuMulai,callback:function(t){a.computedWaktuMulai=t},expression:"computedWaktuMulai"}},"v-text-field",r,!1),i))]}}],null,!0)})]}}],null,!1,2894433309),model:{value:a.display_waktu_mulai,callback:function(t){a.display_waktu_mulai=t},expression:"display_waktu_mulai"}},[a._v(" "),e("v-date-picker",{attrs:{min:a.tanggalMulaiProyek,max:a.tanggalSelesaiProyek,scrollable:""},on:{input:function(t){return a.timeDiffWaktuKerja()}},model:{value:a.data_tanggal_mulai,callback:function(t){a.data_tanggal_mulai=t},expression:"data_tanggal_mulai"}}),a._v(" "),e("v-time-picker",{attrs:{scrollable:"",format:"24hr"},on:{input:function(t){return a.timeDiffWaktuKerja()}},model:{value:a.data_waktu_mulai,callback:function(t){a.data_waktu_mulai=t},expression:"data_waktu_mulai"}},[e("v-spacer"),a._v(" "),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){a.display_waktu_mulai=!1}}},[a._v("\n          Cancel\n        ")]),a._v(" "),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){a.display_waktu_mulai=!1}}},[a._v("\n          OK\n        ")])],1)],1)],1):a._e()]),a._v(" "),e("v-col",{attrs:{cols:"2"}},[0==a.checkWirtgen?e("div",[e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Selesai")]),a._v(" "),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px",disabled:a.dataUri.length>0||a.fieldState},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[e("ValidationProvider",{attrs:{name:"Waktu Selesai",rules:"required|customDateTime"},scopedSlots:a._u([{key:"default",fn:function(t){var s=t.errors;return[e("v-text-field",a._g(a._b({staticClass:"mt-1",attrs:{"persistent-hint":!0,"error-messages":s,readonly:"",outlined:"",placeholder:"Pilih Waktu",disabled:a.dataUri.length>0||a.fieldState},model:{value:a.computedWaktuSelesai,callback:function(t){a.computedWaktuSelesai=t},expression:"computedWaktuSelesai"}},"v-text-field",r,!1),i))]}}],null,!0)})]}}],null,!1,687797597),model:{value:a.display_waktu_selesai,callback:function(t){a.display_waktu_selesai=t},expression:"display_waktu_selesai"}},[a._v(" "),e("v-date-picker",{attrs:{scrollable:"",min:a.data_tanggal_mulai,max:a.allowedEndDate},on:{input:function(t){return a.timeDiffWaktuKerja()}},model:{value:a.data_tanggal_selesai,callback:function(t){a.data_tanggal_selesai=t},expression:"data_tanggal_selesai"}}),a._v(" "),e("v-time-picker",{attrs:{scrollable:"",format:"24hr","allowed-hours":a.allowedEndTime},on:{input:function(t){return a.timeDiffWaktuKerja()}},model:{value:a.data_waktu_selesai,callback:function(t){a.data_waktu_selesai=t},expression:"data_waktu_selesai"}},[e("v-spacer"),a._v(" "),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){a.display_waktu_selesai=!1}}},[a._v("\n              Cancel\n            ")]),a._v(" "),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){a.display_waktu_selesai=!1}}},[a._v("\n              OK\n            ")])],1)],1)],1):a._e(),a._v(" "),0!=a.checkWirtgen?e("div",[e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Selesai")]),a._v(" "),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px",disabled:a.dataUri.length>0||a.fieldState},scopedSlots:a._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[e("ValidationProvider",{attrs:{name:"Waktu Selesai",rules:"required|customDateTime"},scopedSlots:a._u([{key:"default",fn:function(t){var s=t.errors;return[e("v-text-field",a._g(a._b({staticClass:"mt-1",attrs:{"persistent-hint":!0,"error-messages":s,readonly:"",outlined:"",placeholder:"Pilih Waktu",disabled:a.dataUri.length>0||a.fieldState},model:{value:a.computedWaktuSelesai,callback:function(t){a.computedWaktuSelesai=t},expression:"computedWaktuSelesai"}},"v-text-field",r,!1),i))]}}],null,!0)})]}}],null,!1,687797597),model:{value:a.display_waktu_selesai,callback:function(t){a.display_waktu_selesai=t},expression:"display_waktu_selesai"}},[a._v(" "),e("v-date-picker",{attrs:{scrollable:"",min:a.data_tanggal_mulai,max:a.tanggalSelesaiProyek},on:{input:function(t){return a.timeDiffWaktuKerja()}},model:{value:a.data_tanggal_selesai,callback:function(t){a.data_tanggal_selesai=t},expression:"data_tanggal_selesai"}}),a._v(" "),e("v-time-picker",{attrs:{scrollable:"",format:"24hr"},on:{input:function(t){return a.timeDiffWaktuKerja()}},model:{value:a.data_waktu_selesai,callback:function(t){a.data_waktu_selesai=t},expression:"data_waktu_selesai"}},[e("v-spacer"),a._v(" "),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){a.display_waktu_selesai=!1}}},[a._v("\n              Cancel\n            ")]),a._v(" "),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){a.display_waktu_selesai=!1}}},[a._v("\n              OK\n            ")])],1)],1)],1):a._e()]),a._v(" "),e("v-col",{attrs:{cols:"2"}},[e("small",{staticClass:"ml-1"},[a._v("Jumlah Jam")]),a._v(" "),e("ValidationProvider",{attrs:{rules:"required",name:"Jumlah Jam"},scopedSlots:a._u([{key:"default",fn:function(t){var i=t.errors;return[e("v-text-field",{staticClass:"mt-1",attrs:{value:a.durasi_jam,"error-messages":i,disabled:a.dataUri.length>0||a.fieldState,readonly:!0,outlined:""}})]}}])})],1)],1),a._v(" "),e("small",{staticClass:"text-red"},[a._v("* ")]),a._v(" "),e("small",{staticClass:"ml-1"},[a._v("Status")]),a._v(" "),e("ValidationProvider",{attrs:{rules:"",name:"Status"},scopedSlots:a._u([{key:"default",fn:function(t){var i=t.errors;return[e("v-autocomplete",{staticClass:"mt-1",attrs:{value:a.status,"clear-icon":"mdi-eraser-variant","error-messages":i,outlined:"",items:["Disetujui","Ditolak"],disabled:a.fieldState},on:{input:function(t){return a.$emit("update:status",t)}}})]}}])}),a._v(" "),e("hr",{staticClass:"my-8"})],1)}),[],!1,null,null,null).exports;function k(a,t,e,i,r,s,l){try{var n=a[s](l),u=n.value}catch(a){return void e(a)}n.done?t(u):Promise.resolve(u).then(i,r)}function v(a){return function(){var t=this,e=arguments;return new Promise((function(i,r){var s=a.apply(t,e);function l(a){k(s,i,r,l,n,"next",a)}function n(a){k(s,i,r,l,n,"throw",a)}l(void 0)}))}}function p(a,t,e){return t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}var g=e("wd/R"),h={components:{ValidationObserver:n.a,FormContentSetujui:f},props:{actionForm:{type:String,required:!0},redirectUri:{type:String,required:!0},dataUri:{type:String,default:""},filterOperator:{type:Array,default:function(){return[]}},waktuMulaiProyek:{type:String,default:""},waktuSelesaiProyek:{type:String,default:""},waktuLembur:{type:Array,default:function(){return[]}},filterAktivitas:{type:Array,default:function(){return[]}},tanggalMulaiProyek:String,tanggalSelesaiProyek:String,round_kerja:Number,round_lembur:Number},data:function(){return{items:[],field_state:!1,form_alert_state:!1,form_alert_color:"",form_alert_text:""}},mounted:function(){this.getFormData(),this.dataUri||(this.items=[p({id:"",status:"",operator_proyek_id:null,aktivitas:"",keterangan_aktivitas:"",display_waktu_mulai:!1,tanggal_mulai:"",waktu_mulai:"",display_waktu_selesai:!1,tanggal_selesai:"",waktu_selesai:"",durasi_jam:""},"status","")])},methods:{addNewItem:function(){this.items.push(p({id:"",status:"",operator_proyek_id:null,aktivitas:"",keterangan_aktivitas:"",display_waktu_mulai:!1,tanggal_mulai:"",waktu_mulai:"",display_waktu_selesai:!1,tanggal_selesai:"",waktu_selesai:"",durasi_jam:"0"},"status",""))},removeItem:function(a){this.items=_.filter(this.items,(function(t,e){return e!=a}))},getFormData:function(){var a=this;this.dataUri&&(this.show_maps=!1,this.field_state=!0,axios.get(this.dataUri).then((function(t){if(t.data.success){var e=t.data.data;a.items=e,a.field_state=!1}else a.form_alert_state=!0,a.form_alert_color="error",a.form_alert_text=t.data.message,a.field_state=!1})).catch((function(t){a.form_alert_state=!0,a.form_alert_color="error",a.form_alert_text=response.data.message,a.field_state=!1})))},clearForm:function(){var a;this.items=[(a={id:"",status:"",operator_proyek_id:"",aktivitas:""},p(a,"status",""),p(a,"keterangan_aktivitas",""),p(a,"display_waktu_mulai",!1),p(a,"waktu_mulai",""),p(a,"display_waktu_selesai",!1),p(a,"waktu_selesai",""),p(a,"durasi_jam",""),a)],this.$refs.observer.reset()},submitForm:function(){var a=this;this.$refs.observer.validate().then((function(t){t&&(a.field_state=!0,a.postFormData())}))},checkJamIstirahat:function(a,t,e,i,s){return v(r.a.mark((function n(){return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("check istirahat"),console.log(i),!g(t,"HH:mm").isSameOrBefore(g("12:00","HH:mm"))||!g(e,"HH:mm").isSameOrAfter(g("13:00","HH:mm"))||"Standby"==i){r.next=7;break}return r.next=5,l.a.fire({allowOutsideClick:!1,title:"Jam kerja melewati jam Istirahat?",text:"Apakah jam kerja "+t+" - "+e+" termasuk Istirahat?",icon:"warning",showCancelButton:!1,showDenyButton:!0,confirmButtonColor:"#3085d6",denyButtonColor:"#d33",confirmButtonText:"Dengan Istirahat",denyButtonText:"Tanpa Istirahat"}).then((function(t){console.log("answered"),t.isConfirmed?s.append("data["+a+"][is_istirahat]",1):t.isDenied&&s.append("data["+a+"][is_istirahat]",0)}));case 5:r.next=8;break;case 7:s.append("data["+a+"][is_istirahat]",0);case 8:return r.abrupt("return",s);case 9:case"end":return r.stop()}}),n)})))()},setFormData:function(){var a=this;return v(r.a.mark((function t(){var e,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("set form data"),e=new FormData,s=0;case 3:if(!(s<a.items.length)){t.next=23;break}return i=a.items[s],console.log("append form data"),e.append("data["+s+"][operator_proyek_id]",i.operator_proyek_id),e.append("data["+s+"][aktivitas]",i.aktivitas),e.append("data["+s+"][status]",i.status),e.append("data["+s+"][keterangan_aktivitas]",i.keterangan_aktivitas),e.append("data["+s+"][display_waktu_mulai]",i.display_waktu_mulai),e.append("data["+s+"][tanggal_mulai]",i.tanggal_mulai),e.append("data["+s+"][waktu_mulai]",i.waktu_mulai),e.append("data["+s+"][display_waktu_selesai]",i.display_waktu_selesai),e.append("data["+s+"][tanggal_selesai]",i.tanggal_selesai),e.append("data["+s+"][waktu_selesai]",i.waktu_selesai),e.append("data["+s+"][durasi_jam]",i.durasi_jam),t.next=19,a.checkJamIstirahat(s,i.waktu_mulai,i.waktu_selesai,i.aktivitas,e);case 19:a.dataUri&&e.append("data["+s+"][id]",i.id);case 20:s++,t.next=3;break;case 23:return a.dataUri&&e.append("_method","put"),t.abrupt("return",e);case 25:case"end":return t.stop()}}),t)})))()},postFormData:function(){var a=this;return v(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.setFormData().then((function(t){console.log("submited"),axios.post(a.actionForm,t).then((function(t){t.data.success?(a.form_alert_state=!0,a.form_alert_color="success",a.form_alert_text=t.data.message,setTimeout((function(){a.goto(a.redirectUri)}),2500)):(a.field_state=!1,a.form_alert_state=!0,a.form_alert_color="error",a.form_alert_text=t.data.message)})).catch((function(t){a.field_state=!1,a.form_alert_state=!0,a.form_alert_color="error",a.form_alert_text="Oops, something went wrong. Please try again later."}))}));case 2:case"end":return t.stop()}}),t)})))()}}},w=(e("bSy0"),Object(m.a)(h,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ValidationObserver",{ref:"observer",scopedSlots:a._u([{key:"default",fn:function(t){t.validate,t.reset;return[e("form",{ref:"post-form",attrs:{method:"post",enctype:"multipart/form-data"}},[a._l(a.items,(function(t,i){return e("div",[e("div",{attrs:{align:"right"}},[a.dataUri?a._e():e("v-btn",{attrs:{icon:"",color:"black"},on:{click:function(t){return a.removeItem(i)}}},[e("v-icon",[a._v("mdi-close")])],1)],1),a._v(" "),e("FormContentSetujui",a._b({attrs:{"data-uri":a.dataUri,"filter-operator":a.filterOperator,"waktu-mulai-proyek":a.waktuMulaiProyek,"waktu-selesai-proyek":a.waktuSelesaiProyek,"tanggal-mulai-proyek":a.tanggalMulaiProyek,"tanggal-selesai-proyek":a.tanggalSelesaiProyek,"filter-aktivitas":a.filterAktivitas,"field-state":a.field_state,round_kerja:a.round_kerja,round_lembur:a.round_lembur}},"FormContentSetujui",t,!1,!0))],1)})),a._v(" "),a.dataUri?a._e():e("v-btn",{staticClass:"mt-5",attrs:{color:"#BD342D",dark:""},on:{click:a.addNewItem}},[e("v-icon",{attrs:{left:""}},[a._v("\n                  mdi-plus\n              ")]),a._v("\n          Tambah Jam Kerja\n          ")],1),a._v(" "),e("div",{staticClass:"d-flex"},[e("v-btn",{staticClass:"mr-4 my-4 ml-auto",attrs:{loading:a.field_state,disabled:a.field_state,color:"#BD342D",dark:"",large:""},on:{click:a.submitForm},scopedSlots:a._u([{key:"loader",fn:function(){return[e("span",{staticClass:"custom-loader"},[e("v-icon",{attrs:{light:""}},[a._v("mdi-cached")])],1)]},proxy:!0}],null,!0)},[a._v("\n              Simpan\n                  ")]),a._v(" "),e("v-btn",{staticClass:"my-4",attrs:{type:"button",href:a.redirectUri,disabled:a.field_state,large:""}},[a._v("\n              Kembali\n              ")])],1)],2),a._v(" "),e("v-snackbar",{attrs:{top:"","multi-line":"",color:a.form_alert_color,elevation:"5",timeout:"6000"},model:{value:a.form_alert_state,callback:function(t){a.form_alert_state=t},expression:"form_alert_state"}},[a._v("\n    "+a._s(a.form_alert_text)+"\n  ")])]}}])})}),[],!1,null,null,null));t.default=w.exports},bSy0:function(a,t,e){"use strict";var i=e("s7P1");e.n(i).a},s7P1:function(a,t,e){var i=e("MJdX");"string"==typeof i&&(i=[[a.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(i,r);i.locals&&(a.exports=i.locals)},u385:function(a,t,e){var i=e("C1/e");"string"==typeof i&&(i=[[a.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(i,r);i.locals&&(a.exports=i.locals)}}]);